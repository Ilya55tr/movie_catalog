<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" xmlns:th="http://www.thymeleaf.org">
    <title>genre</title>
</head>
<body>

<form th:action="@{/genres/{id}/update(id=${genre.getId()})}" method="post" enctype="multipart/form-data" th:object="${genre}">
    <H1>Жанр</H1><br>
    <label for="genreName">Название:
        <input id="genreName" type="text" name="name" th:value="*{getName()}">
    </label><br>
    <label for="image">
        <input id="image" type="file" name="image">
    </label>
    <div th:if="${genre.getImage()}">
        <img th:src="@{'/api/v1/genre/genres/'+${genre.getImage()}}" alt="Картинка жанра" width="300">
    </div>
    <button type="submit">Изменить жанр</button>
    <div th:each="movie, stat: *{getMovies()}">
        <a th:href="@{'/movies/'+ ${movie.getId()}}" th:text="|${stat.index+1} Фильм : ${movie.getTitle()}|"> movie</a>
        <p th:text="|Год: ${movie.getReleaseYear()}|">releaseYear</p>
    </div><br>

</form>
<br>
<br>
<form th:action="@{/genres}" method="get">
    <button type="submit">Показать все жанры</button>
</form><br>
<form th:action="@{/genres/{id}/delete(id=${genre.getId()})}" method="post">
    <button type="submit">Удалить жанр</button>
</form>

</body>
</html>